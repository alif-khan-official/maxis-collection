(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{15:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);a(109),a(63);var n=a(1),s=a.n(n),c=a(24),o=a.n(c),r=a(14),i=a(21),l=a(6),d=a(7),u=a(9),h=a(8),p=a(19),m=a(4),j=a.n(m),b=a(12),v=a(16),g=(a(15),new(function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,[{key:"setUsername",value:function(e){localStorage.setItem("username",e)}},{key:"getAuthCurrentDateTime",value:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear(),s=e.getHours(),c=e.getMinutes()+1;return n+"-"+(a<10?"0":"")+a+"-"+t+" "+(s<10||s>12&&s<22?"0":"")+(s>12?s-12:s)+":"+(c<10?"0":"")+c+" "+(s>11?"PM":"AM")}},{key:"getUsername",value:function(){return localStorage.getItem("username")}},{key:"setTokenDetail",value:function(e){localStorage.setItem("id_token",e.id_token),localStorage.setItem("refresh_token",e.refresh_token),localStorage.setItem("expires_in",e.expires_in),localStorage.setItem("role_list",JSON.stringify(e.roleList))}},{key:"setRole",value:function(e){console.log("====roleList===="),console.log(e),localStorage.setItem("role_list",JSON.stringify(e))}},{key:"setMenu",value:function(e){localStorage.setItem("menu",JSON.stringify(e))}},{key:"getIdToken",value:function(){var e="";try{return e=localStorage.getItem("id_token")}catch(t){return localStorage.setItem("id_token",""),e}}},{key:"getRolePresence",value:function(e){console.log("====getRolePresence(start)====");var t="[]";try{t=localStorage.getItem("role_list");for(var a=JSON.parse(t),n=0;n<e.length;n++){var s=e[n];console.log("====getRolePresence(role)===="),console.log(s);for(var c=0;c<a.length;c++){if(a[c].name===s)return console.log("====getRolePresence(true)===="),console.log("true"),!0}}return console.log("====getRolePresence(false)===="),console.log("false"),"{}"}catch(o){return"{}"}}},{key:"getRoleList",value:function(){var e="[]";try{return e=localStorage.getItem("role_list"),console.log("====roleList===="),console.log(e),JSON.parse(e)}catch(t){return localStorage.setItem("role_list",""),e}}},{key:"getRefreshToken",value:function(){return localStorage.getItem("refresh_token")}},{key:"getExpireTime",value:function(){return localStorage.getItem("expires_in")}},{key:"getMenu",value:function(){var e="";try{return e=localStorage.getItem("menu"),JSON.parse(e)}catch(t){return localStorage.setItem("menu",""),e}}},{key:"isTokenValid",value:function(){var e=this.getIdToken();return null!==e&&void 0!==e}},{key:"resetTokenDetail",value:function(){localStorage.clear()}}]),e}())),f=a(0),O=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"buttonComponent",children:Object(f.jsx)("button",{className:"btn",disabled:this.props.disabled,onClick:this.props.onClick,children:this.props.text})})}}]),a}(s.a.Component),x=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{className:"inputField",children:!0===this.props.readOnly?Object(f.jsx)("input",{className:this.props.className,readOnly:!0,type:this.props.type,pattern:this.props.format,placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.onChange(t.target.value)}}):Object(f.jsx)("input",{className:this.props.className,type:this.props.type,pattern:this.props.format,placeholder:this.props.placeholder,value:this.props.value,onChange:function(t){return e.props.onChange?e.props.onChange(t.target.value):{}},onKeyDown:function(t){return e.props.onKeyDown?e.props.onKeyDown(t):{}}})})}}]),a}(s.a.Component),y=new function e(){Object(l.a)(this,e),this.ROLE_NAME_ADMIN="admin",this.ROLE_NAME_MERCHANT="Merchant",this.DMA_RESPONSE_SUCCESS_CODE="201",this.DMA_RESPONSE_SUCCESS_RESULT="Success",this.DMA_RESPONSE_SUCCESS_MESSAGE="The lifting limit is adjusted",this.DMA_RESPONSE_FAILURE_CODE="",this.DMA_RESPONSE_FAILURE_RESULT="Failure",this.DMA_RESPONSE_FAILURE_MESSAGE="Failed to adjust lifting limit",this.MW_RESPONSE_SUCCESS_CODE="201",this.MW_RESPONSE_SUCCESS_RESULT="Success",this.MW_RESPONSE_SUCCESS_MESSAGE="The wallet is added",this.MW_RESPONSE_FAILURE_CODE="",this.MW_RESPONSE_FAILURE_RESULT="Failure",this.MW_RESPONSE_FAILURE_MESSAGE="Failed to add wallet"},w=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",enable:""},n}return Object(d.a)(a,[{key:"setInputValue",value:function(e,t){this.setState(Object(v.a)({},e,t))}},{key:"checkEnter",value:function(e){13===e.keyCode&&this.doLogin()}},{key:"resetForm",value:function(){this.setState({username:"",password:""})}},{key:"getMenu",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,s,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="http://apigw-maxis.nagadpay.com/",a=g.getRoleList(),n="",s=0;case 4:if(!(s<a.length)){e.next=15;break}if(a[s].name!==y.ROLE_NAME_ADMIN){e.next=10;break}return n=a[s].id,e.abrupt("break",15);case 10:return n=a[s].id,e.abrupt("break",15);case 12:s++,e.next=4;break;case 15:return e.prev=15,e.next=18,fetch(t+"authorization-service/endpoint/rolemenu/roleId",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({userId:"",roleId:n})});case 18:return c=e.sent,e.next=21,c.json();case 21:"SUCCESS"===(o=e.sent).result.status&&(null===o.result.response[0]?(this.props.history.push("/home"),p.NotificationManager.info("No menu items served from backend for "+this.state.username)):(g.setMenu(o.result.response[0].menuId),this.props.history.push("/home"))),console.log(o),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(15),p.NotificationManager.error("Error message","Internal Server Error"),this.resetForm();case 30:case"end":return e.stop()}}),e,this,[[15,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"doLogin",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({enable:"disable"}),this.state.username){e.next=5;break}return this.setState({enable:""}),p.NotificationManager.warning("FAILURE","Username field is empty"),e.abrupt("return");case 5:if(this.state.password){e.next=9;break}return this.setState({enable:""}),p.NotificationManager.warning("FAILURE","Password field is empty"),e.abrupt("return");case 9:return"http://apigw-maxis.nagadpay.com/",e.prev=10,e.next=13,fetch("http://apigw-maxis.nagadpay.com/authentication-service/endpoint/oauth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 13:return t=e.sent,e.next=16,t.json();case 16:a=e.sent,this.setState({enable:""}),a.result.authResponse.id_token?(g.setUsername(this.state.username),g.setTokenDetail(a.result.authResponse),g.setRole(a.result.roleList),this.getMenu()):p.NotificationManager.warning(a.result.message,a.result.result),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(10),this.setState({enable:""}),p.NotificationManager.error("Error message","Internal Server Error"),this.resetForm();case 26:case"end":return e.stop()}}),e,this,[[10,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"card-login",children:[Object(f.jsx)("div",{className:"d-flex justify-content-center",children:Object(f.jsx)("img",{alt:"",src:"/65332127.png"})}),Object(f.jsx)("h3",{className:"d-flex justify-content-center",children:"COLLECTION PORTAL"}),Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("label",{children:"Username"}),Object(f.jsx)(x,{className:"input",type:"text",placeholder:"Username",value:this.state.username?this.state.username:"",onChange:function(t){return e.setInputValue("username",t)},onKeyDown:function(t){return e.checkEnter(t)}}),Object(f.jsx)("label",{children:"Password"}),Object(f.jsx)(x,{className:"input",type:"password",placeholder:"Password",value:this.state.password?this.state.password:"",onChange:function(t){return e.setInputValue("password",t)},onKeyDown:function(t){return e.checkEnter(t)}}),Object(f.jsx)("div",{className:"d-flex justify-content-center",children:Object(f.jsx)(r.b,{to:{pathname:"/generate-otp"},children:"Forget Password? "})}),Object(f.jsx)(O,{text:"LOGIN",disabled:this.state.enable,onClick:function(){return e.doLogin()}})]})]})}}]),a}(s.a.Component),N=Object(i.f)(w),k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(N,{}),Object(f.jsx)(p.NotificationContainer,{})]})}}]),a}(s.a.Component),I=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"d-flex justify-content-end",children:Object(f.jsx)("span",{children:"Maxis Collection Portal"})}),Object(f.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(f.jsx)("span",{children:"\xa9"}),"2021"]})]})}}]),a}(s.a.Component),C=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=g.getMenu();return Object(f.jsxs)("div",{className:"d-flex justify-content-end navbar",children:[Object(f.jsx)("div",{className:"navbar-content",children:Object(f.jsx)("div",{className:"mydiv",children:g.isTokenValid()&&Object(f.jsx)(r.b,{to:{pathname:"/home"},children:"Home"})})}),e&&e.map((function(e,t){return Object(f.jsx)("div",{className:"navbar-content",children:"root"!==e.name&&Object(f.jsx)("div",{className:"mydiv",children:Object(f.jsx)(r.b,{to:{pathname:e.name},children:e.displayName})},t)},t)})),Object(f.jsx)("div",{className:"navbar-content",children:Object(f.jsx)("div",{className:"mydiv",children:g.isTokenValid()&&Object(f.jsx)(r.b,{to:{pathname:"/update-password"},children:"Update Password"})})}),Object(f.jsx)("div",{className:"navbar-content",children:Object(f.jsx)("div",{className:"mydiv",children:g.isTokenValid()&&Object(f.jsx)(r.b,{to:{pathname:"/"},onClick:function(){return g.resetTokenDetail()},children:"Logout"})})}),Object(f.jsx)("div",{className:"navbar-content",children:Object(f.jsx)("div",{className:"mydiv",children:!g.isTokenValid()&&Object(f.jsx)(r.b,{to:{pathname:"/"},children:"Back To Login"})})})]})}}]),a}(s.a.Component),S=Object(i.f)(C),D=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"getMainComponentDesign",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)(S,{}),Object(f.jsxs)("div",{className:"body",children:[this.props.component,Object(f.jsx)(p.NotificationContainer,{})]}),Object(f.jsx)("div",{className:"footer",children:Object(f.jsx)(I,{})})]})}},{key:"getMainComponentDesign2",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsx)(S,{})})}),Object(f.jsx)("div",{className:"body",children:"NOT LOGGED IN"})]})}},{key:"isforgetPasswordPage",value:function(){var e=this.props.component._owner.pendingProps.location.pathname;return"/submit-otp"===e||"/generate-otp"===e}},{key:"render",value:function(){return this.isforgetPasswordPage()||g.isTokenValid()?this.getMainComponentDesign():this.getMainComponentDesign2()}}]),a}(s.a.Component),T=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),n=t.call(this,e),console.log(e),n.state={userId:g.getUsername(),newPassword:""},n}return Object(d.a)(a,[{key:"setInputValue",value:function(e,t){this.setState(Object(v.a)({},e,t))}},{key:"resetForm",value:function(){this.setState({userId:"",newPassword:""})}},{key:"changePassword",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.userId){e.next=2;break}return e.abrupt("return");case 2:if(this.state.newPassword){e.next=4;break}return e.abrupt("return");case 4:return"http://apigw-maxis.nagadpay.com/",e.prev=5,e.next=8,fetch("http://apigw-maxis.nagadpay.com/authorization-service/endpoint/user/password-update",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({userId:this.state.userId,newPassword:this.state.newPassword})});case 8:return t=e.sent,e.next=11,t.json();case 11:"SUCCESS"===(a=e.sent).result.status?(console.log(a),this.props.history.push("/")):(p.NotificationManager.warning("FAILURE","Failed to update password"),console.log(a)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),this.resetForm(),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[5,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"getComponentDesign",value:function(){var e=this;return Object(f.jsx)("div",{className:"card-otp",children:Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h3",{children:"Update Password"}),Object(f.jsx)("label",{children:"Username"}),Object(f.jsx)(x,{className:"input",readOnly:"readOnly",type:"text",placeholder:"Username",value:this.state.prevPassword?this.state.prevPassword:g.getUsername(),onChange:function(t){return e.setInputValue("prevPassword",t)}}),Object(f.jsx)("label",{children:"New Password"}),Object(f.jsx)(x,{className:"input",type:"password",placeholder:"Enter new password here",value:this.state.newPassword?this.state.newPassword:"",onChange:function(t){return e.setInputValue("newPassword",t)}}),Object(f.jsx)(O,{text:"UPDATE",onClick:function(){return e.changePassword()}})]})})}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),M=Object(i.f)(T),P=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a),n=t.call(this,e),console.log(e);var s=n.props.location.state;return console.log("data:",s),n.state=void 0===s?{otpValidationId:"",otpValue:""}:{otpValidationId:s.otpValidationId,otpValue:""},n}return Object(d.a)(a,[{key:"setInputValue",value:function(e,t){this.setState(Object(v.a)({},e,t))}},{key:"resetForm",value:function(){this.setState({otpValidationId:"",otpValue:""})}},{key:"submitOTP",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.otpValue){e.next=3;break}return p.NotificationManager.warning("FAILURE","OTP-Value field is empty"),e.abrupt("return");case 3:if(this.state.otpValidationId){e.next=6;break}return p.NotificationManager.warning("FAILURE","OTP-Validation Id not found"),e.abrupt("return");case 6:return"http://apigw-maxis.nagadpay.com/",e.prev=7,e.next=10,fetch("http://apigw-maxis.nagadpay.com/authorization-service/endpoint/submit-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({otpValidationId:this.state.otpValidationId,otpValue:this.state.otpValue})});case 10:return t=e.sent,e.next=13,t.json();case 13:(a=e.sent)?(console.log(a),p.NotificationManager.warning("SUCCESS","Your New Password is sent to your mobile through SMS"),this.props.history.push("/")):console.log(a),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(7),p.NotificationManager.warning("FAILURE","Failed to send SMS"),this.resetForm(),this.props.history.push("/generate-otp"),console.log(e.t0);case 23:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"getComponentDesign",value:function(){var e=this;return Object(f.jsx)("div",{className:"card-otp",children:Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h3",{children:"Submit OTP"}),Object(f.jsx)("h6",{children:"An OTP is sent to your mobile through SMS."}),Object(f.jsx)("h6",{children:"Submit OTP here for new password."}),Object(f.jsx)(x,{className:"input",type:"number",placeholder:"Submit 4 digit otp",value:this.state.otpValue?this.state.otpValue:"",onChange:function(t){return e.setInputValue("otpValue",t)}}),Object(f.jsx)(O,{text:"NEXT",onClick:function(){return e.submitOTP()}})]})})}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),A=Object(i.f)(P),E=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),n=t.call(this,e),console.log(e),n.state={userId:""},n}return Object(d.a)(a,[{key:"setInputValue",value:function(e,t){this.setState(Object(v.a)({},e,t))}},{key:"resetForm",value:function(){this.setState({userId:""})}},{key:"generateOTP",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.userId){e.next=3;break}return p.NotificationManager.warning("FAILURE","UserId field is empty"),e.abrupt("return");case 3:return"http://apigw-maxis.nagadpay.com/",e.prev=4,e.next=7,fetch("http://apigw-maxis.nagadpay.com/authorization-service/endpoint/generate-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.state.userId})});case 7:return t=e.sent,e.next=10,t.json();case 10:(a=e.sent)?this.props.history.push({pathname:"/submit-otp",state:{otpValidationId:a.result.otpValidationId}}):(p.NotificationManager.warning(a.result.result,a.result.message),console.log(a)),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(4),p.NotificationManager.warning("FAILURE","Failed to send SMS"),this.resetForm(),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[4,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getComponentDesign",value:function(){var e=this;return Object(f.jsx)("div",{className:"card-otp",children:Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h3",{children:"OTP Request"}),Object(f.jsx)("h6",{children:"An OTP will be sent to your mobile through SMS."}),Object(f.jsx)("h6",{children:"Provide your correct username."}),Object(f.jsx)(x,{className:"input",type:"text",placeholder:"Enter your username here",value:this.state.userId?this.state.userId:"",onChange:function(t){return e.setInputValue("userId",t)}}),Object(f.jsx)(O,{text:"NEXT",onClick:function(){return e.generateOTP()}})]})})}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),R=Object(i.f)(E),V=a(42),_=a(32),L=a.n(_),F=(a(131),a(11)),W=a.n(F),B=(a(132),a(133),a(101)),H=a.n(B),U=a(35),J=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).fieldSetLegendClassName=W()("maxisFieldset1 maxisFieldset2"),n.depositBanks=[],n.depositBanksDropdown=[],n.transferWallets=[],n.transferWalletsDropdown=[],n.motherMerchants=[],n.motherMerchantsDropdown=[],n.localMerchants=[],n.localMerchantsDropdown=[],n.collectionTypes=[],n.collectionTypesDropdown=[],n.walletTypes=[{label:"MyCash",value:"MyCash"},{label:"General",value:"General"}],n.currentLocalMerchantsDropdown=[],n.state={deposit:{amount:0,currencyType:"MFS",currency:"",cashpointId:"",bankDetails:{domainId:"",walletId:"",walletName:"",walletAccountId:"",ownerId:"",walletPin:"",walletOTP:"",balance:0,transactionAccountId:"",walletType:"",status:""},depositeSlipImage:"",reference:"",comments:"",approvalDetails:{approvalDecision:"",decisionTime:null,approvalTransactionId:"",liftingAccountId:"",liftingWalletId:""}},transfer:{transferAmount:0,walletPin:"",transferWalletId:"",userId:""},collection:{cashPointId:g.getUsername(),merchantId:"",payeeId:"",amount:"",collectionType:"",currency:"",collectionPin:"",payeePin:"",invoiceNo:"",reference1:"",reference2:"",reference3:"",document:"n/a",decision:"pending",transactionEngineId:"",transactionEngineReply:""},disableTransferButton:!1,disableDepositButton:!1,disableCollectButton:!1},n}return Object(d.a)(a,[{key:"prepareHomePage",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,s,c,o,r,i,l,d,u,h,p,m,b,v,f,O,x,y,w,N,k,I,C,S,D,T,M,P,A,E,R,V,_,L,F,W;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.depositBanks.length>0)){e.next=2;break}return e.abrupt("return");case 2:return t="http://apigw-maxis.nagadpay.com/",e.next=5,fetch(t+"collection-service/endpoint/wallet/banks",{method:"GET",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()}});case 5:return a=e.sent,e.next=8,a.json();case 8:for(n=e.sent,console.log("responseBankList"),console.log(n),s=n.result.data,c=[],o=0;void 0!==s&&null!==s&&o<s.length;o++)r=s[o],i={label:r.walletId+" ("+r.walletAccountId.replace("COLLECTION_Maxis_","").replace(r.walletId,"").replace("_"," ").replace("_"," ")+")",value:o},c.push(i);return this.depositBanks=s,this.depositBanksDropdown=c,e.next=18,fetch(t+"collection-service/endpoint/wallet/accountId",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:'{"accountId": "'+g.getUsername()+'"}'});case 18:return l=e.sent,e.next=21,l.json();case 21:for(d=e.sent,console.log("responseWalletList"),console.log(d),u=d.result.data,h=[],p=[],m=0;void 0!==u&&null!==u&&m<u.length;m++)b=u[m],v={label:b.walletId,value:b.walletId},"DSE"===b.walletType&&(h.push(b),p.push(v));return console.log("walletList"),console.log(h),console.log("wallets"),console.log(p),this.transferWallets=h,this.transferWalletsDropdown=p,e.next=36,fetch(t+"collection-service/endpoint/collection/type",{method:"GET",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()}});case 36:return f=e.sent,e.next=39,f.json();case 39:for(O=e.sent,console.log("responseCollectionTypeList"),console.log(O),x=O.result.data,y=[],w=[],N=0;void 0!==x&&null!==x&&N<x.length;N++)void 0!==(k=x[N]).collectionType&&""!==k.collectionType&&null!=k.collectionType&&(I={label:k.collectionType,value:k.id},w.push(k),y.push(I));return this.collectionTypes=w,this.collectionTypesDropdown=y,e.next=50,fetch(t+"authorization-service/endpoint/user/merchant",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:'{"accountId": "'+g.getUsername()+'"}'});case 50:return C=e.sent,e.next=53,C.json();case 53:for(S=e.sent,console.log("responseMotherMerchantList"),console.log(S),D=S.result.response[0],T=[],M=0;void 0!==D&&null!==D&&M<D.length;M++)P=D[M],A={label:P.name+" ("+P.userId+")",value:P.userId},T.push(A);return this.motherMerchants=D,this.motherMerchantsDropdown=T,e.next=63,fetch(t+"authorization-service/endpoint/user/payee",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:'{"accountId": "'+g.getUsername()+'"}'});case 63:return E=e.sent,e.next=66,E.json();case 66:for(R=e.sent,console.log("responseLocalMerchantList"),console.log(R),V=R.result.response[0],_=[],L=0;void 0!==V&&null!==V&&L<V.length;L++)F=V[L],W={label:F.name+" ("+F.userId+")",value:F.userId},_.push(W);this.localMerchants=V,this.localMerchantsDropdown=_,this.currenctLocalMerchantsDropdown=[];case 75:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCurrencies",value:function(){var e=[{name:"MyCash",code:"MyCash",label:"MyCash",value:"MyCash"},{name:"General",code:"General",label:"General",value:"General"}];return console.log(e),e}},{key:"getDepositBanks",value:function(){return console.log(this.depositBanksDropdown),this.depositBanksDropdown}},{key:"getTransferWallets",value:function(){return console.log(this.transferWalletsDropdown),this.transferWalletsDropdown}},{key:"getWalletTypes",value:function(){return console.log(this.walletTypes),this.walletTypes}},{key:"getMotherMerchants",value:function(){return console.log(this.motherMerchantsDropdown),this.motherMerchantsDropdown}},{key:"getCollectiontypes",value:function(){return console.log(this.collectionTypesDropdown),this.collectionTypesDropdown}},{key:"getLocalMerchants",value:function(){return console.log("this.currentLocalMerchantsDropdown"),console.log(this.currentLocalMerchantsDropdown),this.currentLocalMerchantsDropdown}},{key:"setInputValue",value:function(e,t,a){var n=a;if(t){var s=this.state[e];if("collection"===e&&"amount"===t||"deposit"===e&&"amount"===t||"transfer"===e&&"transferAmount"===t||"transfer"===e&&"walletPin"===t){if(isNaN(a))return}else if("deposit"===e&&"bankDetails"===t)n=this.depositBanks[a];else if("collection"===e&&"merchantId"===t){for(var c=[],o=0;o<this.localMerchantsDropdown.length;o++)for(var r=this.localMerchants[o],i=0;i<r.taggedMerchantIds.length;i++)if(r.taggedMerchantIds[i].merchantId===n){c.push(this.localMerchantsDropdown[o]);break}this.currentLocalMerchantsDropdown=c,console.log(this.currentLocalMerchantsDropdown),s.payeeId=""}s[t]=n,this.setState(Object(v.a)({},e,s))}else this.setState(Object(v.a)({},e,n))}},{key:"deposit",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,s,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.deposit.amount<1||""===this.state.deposit.currency||void 0===this.state.deposit.bankDetails.domainId)){e.next=4;break}return console.log("this.state not submittable"),this.setState({disableDepositButton:!1}),e.abrupt("return");case 4:if(!this.state.disableDepositButton){e.next=6;break}return e.abrupt("return");case 6:return(t=this.state.deposit).cashpointId=g.getUsername(),console.log("this.state submittable"),console.log(t),e.next=12,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/lifting",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify(t)});case 12:return a=e.sent,e.next=15,a.json();case 15:n=e.sent,console.log(n),this.setState({disableDepositButton:!1}),s="warning",c="Please check manually",void 0!==n.result&&void 0!==n.result.message&&n.result.message.toLowerCase().includes("fail")?(s="danger",c=n.result.message):void 0!==n.result&&void 0!==n.result.message&&n.result.message.toLowerCase().includes("success")?(s="success",c=n.result.message):void 0===n.result&&(s="danger",c=n.message),Object(U.b)({message:c,type:s,duration:"2500"});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"transfer",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,s,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.transfer.transferAmount<1||""===this.state.transfer.walletPin||""===this.state.transfer.transferWalletId)){e.next=4;break}return console.log("this.transfer not submittable"),this.setState({disableTransferButton:!1}),e.abrupt("return");case 4:if(!this.state.disableTransferButton){e.next=6;break}return e.abrupt("return");case 6:return(t=this.state.transfer).userId=g.getUsername(),console.log("this.transfer submittable"),console.log(t),e.next=12,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/wallet/transfer/main-dse",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify(t)});case 12:return a=e.sent,e.next=15,a.json();case 15:n=e.sent,console.log(n),this.setState({disableTransferButton:!1}),s="warning",c="Please check manually",void 0!==n.result&&void 0!==n.result.message&&n.result.message.toLowerCase().includes("fail")?(s="danger",c=n.result.message):void 0!==n.result&&void 0!==n.result.message&&n.result.message.toLowerCase().includes("success")?(s="success",c=n.result.message):void 0===n.result&&(s="danger",c=n.message),Object(U.b)({message:c,type:s,duration:"2500"});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"collect",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("inside collect"),console.log(this.state.collection),!(void 0===this.state.collection.amount||""===this.state.collection.amount||this.state.collection.amount<10||void 0===this.state.collection.currency||""===this.state.collection.currency||void 0===this.state.collection.collectionType||""===this.state.collection.collectionType||void 0===this.state.collection.payeeId||""===this.state.collection.payeeId||void 0===this.state.collection.cashPointId||""===this.state.collection.cashPointId||void 0===this.state.collection.merchantId||""===this.state.collection.merchantId)){e.next=6;break}return console.log("this.state not submittable"),this.setState({disableCollectButton:!1}),e.abrupt("return");case 6:if(!this.state.disableCollectButton){e.next=8;break}return e.abrupt("return");case 8:return"http://apigw-maxis.nagadpay.com/",e.next=11,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/collection",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify(this.state.collection)});case 11:return t=e.sent,e.next=14,t.json();case 14:a=e.sent,console.log("collection response"),console.log(a),this.setState({disableCollectButton:!1}),n="warning",s="Please check manually",void 0!==a.result&&void 0!==a.result.message&&a.result.message.toLowerCase().includes("fail")?(n="danger",s=a.result.message):void 0!==a.result&&void 0!==a.result.message&&a.result.message.toLowerCase().includes("success")?(n="success",s=a.result.message):void 0===a.result&&(n="danger",s=a.message),Object(U.b)({message:s,type:n,duration:"2500"});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getComponentDesign",value:function(){var e=this;return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)(U.a,{}),!0===g.getRolePresence(["Cashpoint"])?Object(f.jsxs)("div",{className:"card-form-body",children:[Object(f.jsx)("div",{className:"row",style:{borderStyle:"solid",margin:"2px"},children:Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsxs)(V.Fieldset,{legend:"Deposit",toggleable:!0,collapsed:!0,className:this.fieldSetLegendClassName,children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Amount"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"Deposit amount",value:this.state.deposit.amount,onChange:function(t){return e.setInputValue("deposit","amount",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Currency"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(L.a,{inputId:"depositCurrency",options:this.getCurrencies(),optionLabel:"name",optionValue:"code",onChange:function(t){e.setInputValue("deposit","currency",t.value)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Currency Type"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"Currency type",readOnly:!0,value:this.state.deposit.currencyType,onChange:function(t){return e.setInputValue("deposit","currencyType",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Bank"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(L.a,{inputId:"bank",options:this.getDepositBanks(),optionLabel:"label",optionValue:"value",onChange:function(t){e.setInputValue("deposit","bankDetails",t.value)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Reference / Cheque"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"Referencec",value:this.state.deposit.reference,onChange:function(t){return e.setInputValue("deposit","reference",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Comments"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"Referencec",value:this.state.deposit.comments,onChange:function(t){return e.setInputValue("deposit","comments",t)}})})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsx)(O,{text:"Deposit",onClick:function(){e.setState({disableDepositButton:!0}),e.deposit()}})})})]})})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-12",children:" \xa0"})}),Object(f.jsx)("div",{className:"row",style:{borderStyle:"solid",margin:"2px"},children:Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsxs)(V.Fieldset,{legend:"Transfer",toggleable:!0,collapsed:!0,className:this.fieldSetLegendClassName,children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Amount"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"Transfer amount",value:this.state.transfer.transferAmount,onChange:function(t){return e.setInputValue("transfer","transferAmount",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Wallet"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(L.a,{inputId:"transferWalletId",options:this.getTransferWallets(),optionLabel:"label",optionValue:"value",onChange:function(t){e.setInputValue("transfer","transferWalletId",t.value)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"PIN"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"PIN",value:this.state.transfer.walletPin,onChange:function(t){return e.setInputValue("transfer","walletPin",t)}})})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsx)(O,{text:"Transfer",onClick:function(){e.setState({disableTransferButton:!0}),e.transfer()},disabled:this.state.disableTransferButton})})})]})})}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-12",children:" \xa0"})}),Object(f.jsx)("div",{className:"row",style:{borderStyle:"solid",margin:"2px"},children:Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsxs)(V.Fieldset,{legend:"Collection",toggleable:!0,collapsed:!0,className:this.fieldSetLegendClassName,children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Amount"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"collection amount",value:this.state.collection.amount,onChange:function(t){return e.setInputValue("collection","amount",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Merchant"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(H.a,{value:"",placeholder:"Select",options:this.getMotherMerchants(),onSelect:function(t){e.setInputValue("collection","merchantId",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Payee"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(L.a,{inputId:"userId",options:this.getLocalMerchants(),optionLabel:"label",optionValue:"value",onChange:function(t){e.setInputValue("collection","payeeId",t.value)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Collection type"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(L.a,{inputId:"collectionType",options:this.getCollectiontypes(),optionLabel:"label",optionValue:"value",onChange:function(t){e.setInputValue("collection","collectionType",t.value)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Wallet"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(L.a,{inputId:"currency",options:this.getWalletTypes(),optionLabel:"label",optionValue:"value",onChange:function(t){e.setInputValue("collection","currency",t.value)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Invoice"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"Invoice",value:this.state.collection.invoiceNo,onChange:function(t){return e.setInputValue("collection","invoiceNo",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Reference 1"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"Reference 1",value:this.state.collection.reference1,onChange:function(t){return e.setInputValue("collection","reference1",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Reference 2"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"Reference 2",value:this.state.collection.reference2,onChange:function(t){return e.setInputValue("collection","reference2",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Reference 3"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"Reference 3",value:this.state.collection.reference3,onChange:function(t){return e.setInputValue("collection","reference3",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Collection PIN"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"password",placeholder:"Collection PIN",value:this.state.collection.collectionPin,onChange:function(t){return e.setInputValue("collection","collectionPin",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{className:"form-input-label",children:Object(f.jsx)("b",{children:"Payee PIN"})})}),Object(f.jsx)("div",{className:"col-sm-9",children:Object(f.jsx)(x,{className:"form-input",type:"password",placeholder:"Payee PIN",value:this.state.collection.payeePin,onChange:function(t){return e.setInputValue("collection","payeePin",t)}})})]}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsx)(O,{text:"Collect",onClick:function(){e.setState({disableCollectButton:!0}),e.collect()}})})})]})})})]}):Object(f.jsx)("div",{children:"Welcome"})]})}},{key:"render",value:function(){this.prepareHomePage();var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),G=Object(i.f)(J),z=a(28),q=a.n(z),K=(a(38),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a);var s=(n=t.call(this,e)).props.location.state;return void 0===s&&n.props.history.push("/home"),n.state={id:s.row._original.id,name:s.row._original.name,occupation:s.row._original.occupation,date:new Date("12-21-2020")},console.log("received: ",s.row._original),n}return Object(d.a)(a,[{key:"handleDateSelect",value:function(e){console.log("handleDateSelect ",e.toString()),this.setState({date:e})}},{key:"handleDateChange",value:function(e){var t=e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear();console.log(t),this.setState({date:e})}},{key:"getComponentDesign",value:function(){var e=this;return Object(f.jsx)("div",{className:"detail",children:Object(f.jsx)("div",{className:"card",children:Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2",children:"Id"}),Object(f.jsx)("div",{className:"col-sm-4",children:Object(f.jsx)(x,{type:"text",placeholder:"input value here",value:this.state.id?this.state.id:"",onChange:function(t){return e.setInputValue("id",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2",children:"Name"}),Object(f.jsx)("div",{className:"col-sm-4",children:Object(f.jsx)(x,{type:"text",placeholder:"input value here",value:this.state.name?this.state.name:"",onChange:function(t){return e.setInputValue("name",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2",children:"Occupation"}),Object(f.jsx)("div",{className:"col-sm-4",children:Object(f.jsx)(x,{type:"text",placeholder:"input value here",value:this.state.occupation?this.state.occupation:"",onChange:function(t){return e.setInputValue("occupation",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2",children:"Date"}),Object(f.jsx)("div",{className:"col-sm-4",children:Object(f.jsx)(q.a,{dateFormat:"dd-MM-yyyy",selected:this.state.date,onChange:function(t){return e.handleDateChange(t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-4"}),Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)(O,{text:"Save",onClick:function(){return e.save()}})})]})]})})})}},{key:"setInputValue",value:function(e,t){this.setState(Object(v.a)({},e,t))}},{key:"save",value:function(){console.log(this.state)}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component)),Y=a(25),X=(a(30),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:[],filterValue:""},n}return Object(d.a)(a,[{key:"getMockData",value:function(){return[{id:1,name:"Mukit",occupation:"SE",address:"Dhaka"},{id:2,name:"Ratul",occupation:"SE",address:"Dhaka"},{id:3,name:"Emon",occupation:"SE",address:"Dhaka"},{id:4,name:"Fahim",occupation:"SE",address:"Dhaka"}]}},{key:"getColumns",value:function(){var e=this;return[{Header:"Wallet Id",accessor:"walletId",width:150},{Header:"Wallet Name",accessor:"walletName",width:150},{Header:"Wallet Account Id",accessor:"walletAccountId",width:300},{Header:"Wallet Type",accessor:"walletType",width:200},{fixed:"right",columns:[{Header:"Action",accessor:"name",width:150,Cell:function(t){var a=t.row;return Object(f.jsx)("div",{children:Object(f.jsx)(O,{text:"View",onClick:function(t){e.handleClick(a)}})})}}]}]}},{key:"handleClick",value:function(e){this.props.history.push({pathname:"/add-wallet",state:{row:e}})}},{key:"setInputValue",value:function(e,t){this.setState(Object(v.a)({},e,t))}},{key:"componentDidMount",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/wallet/accountId",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({accountId:g.getUsername()})}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:t.data})}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"getComponentDesign",value:function(){var e=this,t=this.getColumns(),a=this.state.data,n=a,s=this;return void 0===this.state.filterValue||null===this.state.filterValue||""===this.state.filterValue||void 0===a||null===a||0===a.length||(n=a.filter((function(e){return e.walletAccountId.includes(s.state.filterValue)}))),Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)("h5",{children:"Wallet Management"})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-3",children:Object(f.jsx)("div",{children:Object(f.jsx)(O,{text:"Add Wallet",onClick:function(){return e.props.history.push({pathname:"/add-wallet"})}})})}),Object(f.jsx)("div",{className:"col-sm-5",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"search here",value:this.state.filterValue?this.state.filterValue:"",onChange:function(t){return e.setInputValue("filterValue",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"col-lg-12",children:Object(f.jsx)(Y.a,{data:n,columns:t,defaultPageSize:10,pageSizeOptions:[10,20,40]})}),Object(f.jsx)("div",{className:"col-sm-4"})]})]})}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component)),Q=Object(i.f)(X),Z=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a);var s=(n=t.call(this,e)).props.location.state;return n.state=void 0===s?{balance:0,ownerId:"",domainId:null,status:"",transactionAccountId:"",walletAccountId:"",walletId:"",walletName:"",walletPin:"",walletOTP:"",walletType:"",readOnlyFieldValue:"",enable:""}:{balance:s.row._original.balance,domainId:s.row._original.domainId,ownerId:s.row._original.ownerId,status:s.row._original.status,transactionAccountId:s.row._original.transactionAccountId,walletAccountId:s.row._original.walletAccountId,walletId:s.row._original.walletId,walletName:s.row._original.walletName,walletPin:s.row._original.walletPin,walletOTP:s.row._original.walletOTP,walletType:s.row._original.walletType,enable:"disable"},n}return Object(d.a)(a,[{key:"balanceCheck",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://apigw-maxis.nagadpay.com/",e.prev=1,e.next=4,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/wallet/balance",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({transactionAccountId:this.state.transactionAccountId,walletPin:this.state.walletPin})});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,this.setInputValue("readOnlyFieldValue",a.result.message),console.log(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"enCash",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,s,c,o,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="http://apigw-maxis.nagadpay.com/",e.prev=1,e.next=4,fetch(t+"collection-service/endpoint/wallet/balance",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({transactionAccountId:this.state.transactionAccountId,walletPin:this.state.walletPin})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(n=e.sent,this.setInputValue("readOnlyFieldValue",n.result.message),console.log(n),s=0,n.result.message.includes("The Balance is ")){e.next=13;break}return e.abrupt("return");case 13:if(s=n.result.message.replace("The Balance is ",""),void 0!==(c=parseInt(s,10))&&null!==c&&!isNaN(c)){e.next=17;break}return e.abrupt("return");case 17:return(o={}).walletAccountId=this.state.walletId,o.merchantId=this.state.ownerId,o.digitalMoney=this.state.walletName,o.encashmentAmount=c,o.encashmentFeeRateForMerchant=0,o.maxisVATRate=0,o.maxisAITRate=0,o.bankFeeRatio=0,o.maxisFeeRatio=0,o.decision="pending",o.merchantName="",o.feeAmount=0,o.bankAmount=0,o.maxisAmount=0,o.maxisVATAmount=0,o.maxisAmountAfterVAT=0,o.maxisAITAmount=0,o.maxisAmountAfterAIT=0,e.next=38,fetch(t+"collection-service/endpoint/encashment",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify(o)});case 38:return r=e.sent,e.next=41,r.json();case 41:i=e.sent,this.setInputValue("readOnlyFieldValue",i.result.message),console.log(n),e.next=49;break;case 46:e.prev=46,e.t0=e.catch(1),console.log(e.t0);case 49:case"end":return e.stop()}}),e,this,[[1,46]])})));return function(){return e.apply(this,arguments)}}()},{key:"collect",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n,s,c,o,r,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="http://apigw-maxis.nagadpay.com/",e.prev=1,e.next=4,fetch(t+"collection-service/endpoint/wallet/balance",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({transactionAccountId:this.state.transactionAccountId,walletPin:this.state.walletPin})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(n=e.sent,this.setInputValue("readOnlyFieldValue",n.result.message),console.log(n),s=0,n.result.message.includes("The Balance is ")){e.next=13;break}return e.abrupt("return");case 13:if(s=n.result.message.replace("The Balance is ",""),void 0!==(c=parseInt(s,10))&&null!==c&&!isNaN(c)){e.next=17;break}return e.abrupt("return");case 17:return(o={}).walletAccountId=this.state.walletId,o.merchantId=this.state.ownerId,o.digitalMoney=this.state.walletName,o.encashmentAmount=c,o.encashmentFeeRateForMerchant=0,o.maxisVATRate=0,o.maxisAITRate=0,o.bankFeeRatio=0,o.maxisFeeRatio=0,o.decision="pending",o.merchantName="",o.feeAmount=0,o.bankAmount=0,o.maxisAmount=0,o.maxisVATAmount=0,o.maxisAmountAfterVAT=0,o.maxisAITAmount=0,o.maxisAmountAfterAIT=0,e.next=38,fetch(t+"collection-service/endpoint/encashment",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify(o)});case 38:return r=e.sent,e.next=41,r.json();case 41:i=e.sent,this.setInputValue("readOnlyFieldValue",i.result.message),console.log(n),e.next=49;break;case 46:e.prev=46,e.t0=e.catch(1),console.log(e.t0);case 49:case"end":return e.stop()}}),e,this,[[1,46]])})));return function(){return e.apply(this,arguments)}}()},{key:"otpReset",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://apigw-maxis.nagadpay.com/",e.prev=1,e.next=4,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/wallet/otp-reset",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({walletId:this.state.walletId,walletAccountId:this.state.walletAccountId,transactionAccountId:this.state.transactionAccountId,walletPin:this.state.walletPin})});case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,this.setInputValue("readOnlyFieldValue",a.result.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getComponentDesign",value:function(){var e=this;return Object(f.jsxs)("div",{className:"card-form-body",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsx)("div",{align:"center",children:Object(f.jsx)("h3",{children:"Wallet Add Form"})})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)("div",{className:"form-input-label",children:"Wallet Id"})}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"input value here",value:this.state.walletId?this.state.walletId:"",onChange:function(t){return e.setInputValue("walletId",t)},readOnly:g.getRolePresence(["Merchant","Cashpoint","Payee"])})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)("div",{className:"form-input-label",children:"Wallet Name"})}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"input value here",value:this.state.walletName?this.state.walletName:"",onChange:function(t){return e.setInputValue("walletName",t)},readOnly:g.getRolePresence(["Merchant","Cashpoint","Payee"])})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)("div",{className:"form-input-label",children:"Wallet Owner Id"})}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"input value here",value:this.state.ownerId?this.state.ownerId:"",onChange:function(t){return e.setInputValue("ownerId",t)},readOnly:g.getRolePresence(["Merchant","Cashpoint","Payee"])})})]}),!0===g.getRolePresence(["Merchant","Cashpoint","Payee"])?Object(f.jsx)("div",{}):Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2 form-input-labe",children:Object(f.jsx)("div",{className:"l",children:"Wallet Account Id"})}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"input value here",value:this.state.walletAccountId?this.state.walletAccountId:"",onChange:function(t){return e.setInputValue("walletAccountId",t)}})})]}),!0===g.getRolePresence(["Merchant","Cashpoint","Payee"])?Object(f.jsx)("div",{}):Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2 form-input-label",children:Object(f.jsx)("div",{className:"",children:"Transaction Account Id"})}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"input value here",value:this.state.transactionAccountId?this.state.transactionAccountId:"",onChange:function(t){return e.setInputValue("transactionAccountId",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2 form-input-label",children:"Wallet Pin"}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"input value here",value:this.state.walletPin?this.state.walletPin:"",onChange:function(t){return e.setInputValue("walletPin",t)},readOnly:g.getRolePresence(["Merchant","Cashpoint","Payee"])})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2 form-input-label",children:"Wallet OTP"}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"input value here",value:this.state.walletOTP?this.state.walletOTP:"",onChange:function(t){return e.setInputValue("walletOTP",t)},readOnly:g.getRolePresence(["Merchant","Cashpoint","Payee"])})})]}),!0===g.getRolePresence(["Merchant","Cashpoint","Payee"])?Object(f.jsx)("div",{}):Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2 form-input-label",children:"Wallet Type"}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"input value here",value:this.state.walletType?this.state.walletType:"",onChange:function(t){return e.setInputValue("walletType",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2 form-input-label",children:"Wallet Status"}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)(x,{className:"form-input",readOnly:g.getRolePresence(["Merchant","Cashpoint","Payee"]),type:"text",placeholder:"input value here",value:this.state.status?this.state.status:"",onChange:function(t){return e.setInputValue("status",t)}})})]}),!0===g.getRolePresence(["Merchant","Cashpoint","Payee"])?Object(f.jsx)("div",{}):Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2"}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)("div",{className:"d-flex justify-content-end",children:Object(f.jsx)(O,{text:"Save",onClick:function(){return e.save()}})})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-sm-2 form-input-label",children:["Date ",g.getAuthCurrentDateTime()]}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsx)(x,{className:"form-input",readOnly:"readOnly",type:"text",placeholder:"",value:this.state.readOnlyFieldValue?this.state.readOnlyFieldValue:"",onChange:function(t){return e.setInputValue("readOnlyFieldValue",t)}})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2"}),Object(f.jsx)("div",{className:"col-sm-8",children:Object(f.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(f.jsx)("div",{className:"justify-content-end",children:Object(f.jsx)(O,{text:"Balance Check",onClick:function(){return e.balanceCheck()}})}),!0===g.getRolePresence(["Merchant","Cashpoint","Payee"])?Object(f.jsx)("div",{}):Object(f.jsx)("div",{className:"justify-content-start",style:{paddingLeft:"10px"},children:Object(f.jsx)(O,{text:"OTP Reset",onClick:function(){return e.otpReset()}})}),!0===g.getRolePresence(["account_head"])&&"Mother Merchant"===this.state.walletType||!0===g.getRolePresence(["Merchant"])?Object(f.jsx)("div",{className:"justify-content-start",style:{paddingLeft:"10px"},children:Object(f.jsx)(O,{text:"Encash",onClick:function(){return e.enCash()}})}):Object(f.jsx)("div",{})]})})]})]})}},{key:"setInputValue",value:function(e,t){this.setState(Object(v.a)({},e,t))}},{key:"save",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({enable:"disable"}),"http://apigw-maxis.nagadpay.com/",e.prev=2,e.next=5,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/wallet",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({id:this.state.domainId,walletId:this.state.walletId,walletName:this.state.walletName,walletAccountId:this.state.walletAccountId,ownerId:this.state.ownerId,walletPin:this.state.walletPin,walletOTP:this.state.walletOTP,balance:this.state.balance,transactionAccountId:this.state.transactionAccountId,walletType:this.state.walletType,status:this.state.status})});case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,this.setState({enable:""}),a.result.code===y.MW_RESPONSE_SUCCESS_CODE&&this.props.history.push({pathname:"/manage-wallet"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),this.setState({enable:""}),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),$=Object(i.f)(Z),ee=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={selectedData:{},data:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/wallet",{method:"GET",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()}}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:[]})}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"getComponentDesign",value:function(){var e=this;return Object(f.jsxs)("div",{className:"card-form-body",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-6",children:Object(f.jsx)("div",{className:"d-flex justify-content-end",children:Object(f.jsx)("h3",{children:"Reset Wallet OTP"})})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-sm-6",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(f.jsx)("div",{className:"form-input-label",children:"Choose Wallet"}),Object(f.jsx)("div",{className:"form-dropdown",children:Object(f.jsxs)("select",{className:"form-dropdown-select",value:this.value,onChange:function(t){e.setInputValue("selectedData",t.target.value)},children:[Object(f.jsx)("option",{value:"wallet",children:"Select Wallet Account Number"},"1"),")",this.state.data.map((function(e){return Object(f.jsx)("option",{value:JSON.stringify(e),children:e.walletAccountId},e.domainId)}))]})})]}),Object(f.jsx)("div",{className:"d-flex justify-content-end",children:Object(f.jsx)(O,{text:"Reset",onClick:function(){return e.save()}})})]}),Object(f.jsx)("div",{className:"col-sm-6"})]})]})}},{key:"setInputValue",value:function(e,t){this.setState(Object(v.a)({},e,t))}},{key:"save",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://apigw-maxis.nagadpay.com/",t=JSON.parse(this.state.selectedData),e.prev=2,e.next=5,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/wallet/otp-reset",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({walletId:t.walletId,transactionAccountId:t.transactionAccountId,walletPin:t.walletPin})});case 5:return a=e.sent,e.next=8,a.json();case 8:e.sent.result.code===y.MW_RESPONSE_SUCCESS_CODE&&this.props.history.push({pathname:"/home"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:console.log(this.state);case 16:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),te=Object(i.f)(ee),ae=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:[]},n}return Object(d.a)(a,[{key:"getMockData",value:function(){return[{id:1,name:"Mukit",occupation:"SE",address:"Dhaka"},{id:2,name:"Ratul",occupation:"SE",address:"Dhaka"},{id:3,name:"Emon",occupation:"SE",address:"Dhaka"},{id:4,name:"Fahim",occupation:"SE",address:"Dhaka"}]}},{key:"getColumns",value:function(){return[{Header:"Date",id:"localDateTime",width:200,accessor:function(e){return e.localDateTime?e.localDateTime.replace("T"," ").substring(0,19):""}},{Header:"Wallet",id:"wallet",accessor:function(e){return"5ee20671-b381-464b-b2cf-c12de23060af"===e.wallet?"MyCash":"6cacff8c-8f0b-4fd1-aa3c-6819d3261624"===e.wallet?"Citi":"f9a969a7-679e-4701-a1dc-0eff10d0c31e"===e.wallet?"General":"UCash"},width:100},{Header:"Amount",accessor:"amount"},{Header:"Reference",accessor:"referenceDetails"}]}},{key:"handleClick",value:function(e){this.props.history.push({pathname:"/add-digital-money-acquisition-request",state:{row:e}})}},{key:"componentDidMount",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/digital-money-acquisition",{method:"GET",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()}}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:t.data})}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"getComponentDesign",value:function(){var e=this,t=this.getColumns();return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-6",children:Object(f.jsx)("h5",{children:"Digital Money Acquisition Management"})})}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)("div",{children:Object(f.jsx)(O,{text:"Acquisition",onClick:function(){return e.props.history.push({pathname:"/add-digital-money-acquisition-request"})}})})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"col-lg-12",children:Object(f.jsx)(Y.a,{data:this.state.data,columns:t,defaultPageSize:10,pageSizeOptions:[10,20,40]})}),Object(f.jsx)("div",{className:"col-sm-4"})]})]})}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),ne=Object(i.f)(ae),se=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(l.a)(this,a);var s=(n=t.call(this,e)).props.location.state;return n.state=void 0===s?{wallet:"",amount:"",b64Image:"",bankName:"",bankBranch:"",bankAccountType:"",bankAccountName:"",bankAccountNumber:"",rerenceDetails:"",bank:"",walletList:[],mdWallet:[],enable:"",pushed:"no"}:{wallet:s.row._original.wallet,amount:s.row._original.amount,b64Image:s.row._original.b64Image,bankName:s.row._original.reference.bankName,bankBranch:s.row._original.reference.bankBranch,bankAccountType:s.row._original.reference.bankAccountType,bankAccountName:s.row._original.reference.bankAccountName,bankAccountNumber:s.row._original.reference.bankAccountNumber,rerenceDetails:s.row._original.referenceDetails,bank:s.row._original.bank,walletList:[],mdWallet:[],enable:"disable",pushed:"yes"},n}return Object(d.a)(a,[{key:"getMockData",value:function(){return[{id:1,name:"Choose Option",path:"/"},{id:2,name:"CV Bank",path:"/cv-bank"}]}},{key:"componentDidMount",value:function(){var e=this,t=[];try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/wallet",{method:"GET",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()}}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(a){t=a.data.filter((function(e){return"Master Distributor"===e.walletType})),console.log(t),e.setState({mdWallet:t}),e.setState({walletList:a.data})}))}catch(a){console.log(a)}}},{key:"getComponentDesign",value:function(){var e=this;return this.state.walletList.filter((function(e){return"054-2101-000003995"===e.walletId||"3677901027521"===e.walletId||"054-2101-000003995"===e.walletId||"114.120.3432"===e.walletId||"0105702000532"===e.walletId||"Commission"===e.walletId||"111311130973714"===e.walletId?e:null})),Object(f.jsxs)("div",{className:"card-form-body",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsx)("div",{className:"d-flex justify-content-end",children:Object(f.jsx)("h3",{children:"Digital Money Acquisition"})})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-sm-12",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(f.jsx)("div",{className:"form-input-label",children:"Choose Wallet"}),Object(f.jsx)("div",{className:"form-dropdown",children:Object(f.jsxs)("select",{className:"form-dropdown-select",value:this.value,onChange:function(t){e.setInputValue("wallet",JSON.parse(t.target.value).transactionAccountId),console.log(t.target.value)},children:[Object(f.jsx)("option",{value:"#",children:"Choose Wallet"}),this.state.mdWallet.map((function(e){return Object(f.jsx)("option",{value:JSON.stringify(e),children:e.walletName},e.domainId)}))]})})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(f.jsx)("div",{className:"form-input-label",children:"Amount"}),Object(f.jsx)(x,{className:"form-input",type:"number",placeholder:"input value here",value:this.state.amount?this.state.amount:"",onChange:function(t){return e.setInputValue("amount",t)}})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(f.jsx)("div",{className:"form-input-label",children:"Reference Details"}),Object(f.jsx)(x,{className:"form-input",type:"text",placeholder:"input value here",value:this.state.rerenceDetails?this.state.rerenceDetails:"",onChange:function(t){return e.setInputValue("rerenceDetails",t)}})]}),Object(f.jsx)("div",{className:"d-flex justify-content-end",children:Object(f.jsx)(O,{text:"Save",disabled:this.state.enable,onClick:function(){return e.save()}})})]}),Object(f.jsx)("div",{className:"col-sm-12"})]})]})}},{key:"setInputValue",value:function(e,t){this.setState(Object(v.a)({},e,t))}},{key:"save",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({enable:"disable"}),"http://apigw-maxis.nagadpay.com/",e.prev=2,e.next=5,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/digital-money-acquisition",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({wallet:this.state.wallet,amount:this.state.amount,b64Image:this.state.b64Image,reference:{bankName:this.state.bankName,bankBranch:this.state.bankBranch,bankAccountType:this.state.bankAccountType,bankAccountName:this.state.bankAccountName,bankAccountNumber:this.state.bankAccountNumber,refenceDetails:this.state.rerenceDetails},refenceDetails:this.state.rerenceDetails,bank:this.state.bank})});case 5:return t=e.sent,e.next=8,t.json();case 8:a=e.sent,this.setState({enable:""}),a.result.code===y.DMA_RESPONSE_SUCCESS_CODE&&this.props.history.push({pathname:"/digital-money-acquire"}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),this.setState({enable:""}),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),ce=Object(i.f)(se),oe=a(22),re=a(34),ie=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:[],fromDate:new Date,toDate:new Date,dataToDownload:[]},n.handleFromDateChange=n.handleFromDateChange.bind(Object(oe.a)(n)),n.handleToDateChange=n.handleToDateChange.bind(Object(oe.a)(n)),n.getSearchResult=n.getSearchResult.bind(Object(oe.a)(n)),n.downloadData=n.downloadData.bind(Object(oe.a)(n)),n.prepareDownload=n.prepareDownload.bind(Object(oe.a)(n)),n}return Object(d.a)(a,[{key:"prepareDownload",value:function(e){console.log("prepareDownload"),console.log(e);for(var t=this.getColumns(),a=this.state.data,n=[],s=[],c=0;c<t.length;c++)s[c]=t[c].Header;n[0]=s,console.log("====currentRecords===="),console.log(a);for(var o=0;o<a.length;o++){console.log("currentRecords[j]"),console.log(a[o]);var r=[];r[0]=a[o].generateTime.replace("T"," ").substring(0,19),r[1]=a[o].merchantId,r[2]=a[o].merchantName,r[3]=a[o].walletAccountId,r[4]=a[o].encashmentAmount,r[5]=a[o].decision,n[o+1]=r}this.setState({dataToDownload:n})}},{key:"handleFromDateChange",value:function(e){this.setState({fromDate:e})}},{key:"handleToDateChange",value:function(e){this.setState({toDate:e})}},{key:"getMockData",value:function(){return[{id:1,name:"Mukit",occupation:"SE",address:"Dhaka"}]}},{key:"getColumns",value:function(){return[{Header:"Date",id:"generateTime",width:200,accessor:function(e){return e.generateTime?e.generateTime.replace("T"," ").substring(0,19):""}},{Header:"Merchant Id",width:150,accessor:"merchantId"},{Header:"Merchant Name",width:300,accessor:"merchantName"},{Header:"Merchant Wallet",width:150,accessor:"walletAccountId"},{Header:"Amount",width:100,accessor:"encashmentAmount",Cell:function(e){var t=e.row;return Object(f.jsx)("div",{align:"right",children:t.encashmentAmount})}},{Header:"Decision",width:150,accessor:"decision"}]}},{key:"handleClick",value:function(e,t){var a={approverId:g.getUsername(),encashmentId:e.domainId,comment:"na",decision:t};this.updateApproval(a),console.log("decision: ",t," Lifting: ",e._original)}},{key:"updateApproval",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://apigw-maxis.nagadpay.com/",e.prev=1,e.next=4,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/encashment/decision-update",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({approverId:t.approverId,encashmentId:t.encashmentId,comment:t.comment,decision:t.decision})});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/encashment/accountId",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({accountId:g.getUsername(),fromDate:this.state.fromDate,toDate:this.state.toDate})}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:t.data}),e.prepareDownload("componentDidMount")}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"getSearchResult",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/encashment/accountId",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({accountId:g.getUsername(),fromDate:this.state.fromDate,toDate:this.state.toDate})}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:t.data}),e.prepareDownload("getSearchResult")}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"downloadData",value:function(){try{this.csvLink.link.click()}catch(e){console.log(e)}}},{key:"getComponentDesign",value:function(){var e=this,t=this.getColumns(),a=this.state.data;return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-6",children:Object(f.jsx)("h5",{children:"Encashment Management"})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)("b",{children:"Date range"})}),Object(f.jsxs)("div",{className:"col-sm-6",children:["From: \xa0",Object(f.jsx)(q.a,{dateFormat:"yyyy-MMM-dd",selected:this.state.fromDate,onChange:this.handleFromDateChange}),"\xa0To: \xa0",Object(f.jsx)(q.a,{dateFormat:"yyyy-MMM-dd",selected:this.state.toDate,onChange:this.handleToDateChange})]}),Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)(O,{text:"Search",onClick:function(){return e.getSearchResult()}})}),Object(f.jsxs)("div",{className:"col-sm-2",children:[Object(f.jsx)(O,{text:"Download",onClick:function(){return e.downloadData()}}),Object(f.jsx)("div",{children:Object(f.jsx)(re.CSVLink,{data:this.state.dataToDownload,filename:"encashment.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"})})]})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsx)(Y.a,{data:a,columns:t,defaultPageSize:20,pageSizeOptions:[20,30,40],filterable:!0,defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n].toLowerCase()).startsWith(e.value.toLowerCase())}})}),Object(f.jsx)("div",{className:"col-sm-4"})]})]})}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),le=Object(i.f)(ie),de=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:[],fromDate:new Date,toDate:new Date,dataToDownload:[]},n.handleFromDateChange=n.handleFromDateChange.bind(Object(oe.a)(n)),n.handleToDateChange=n.handleToDateChange.bind(Object(oe.a)(n)),n.getSearchResult=n.getSearchResult.bind(Object(oe.a)(n)),n.downloadData=n.downloadData.bind(Object(oe.a)(n)),n.prepareDownload=n.prepareDownload.bind(Object(oe.a)(n)),n}return Object(d.a)(a,[{key:"prepareDownload",value:function(e){console.log("prepareDownload"),console.log(e);for(var t=this.getColumns(),a=this.state.data,n=[],s=[],c=0;c<t.length;c++)s[c]=t[c].Header;n[0]=s;for(var o=0;o<a.length;o++){console.log("currentRecords[j]"),console.log(a[o]);var r=[];r[0]=a[o].dateTime.replace("T"," ").substring(0,19),r[1]=a[o].amount,r[2]=a[o].decision,r[3]=a[o].merchantId,r[4]=a[o].merchantName,r[5]=a[o].merchantWallet?a[o].merchantWallet.walletId:"",r[6]=a[o].payeeId,r[7]=a[o].payeeName,r[8]=a[o].payeeWallet?a[o].payeeWallet.walletId:"",r[9]=a[o].cashPointId,r[10]=a[o].cpName,r[11]=a[o].cashpointWallet?a[o].cashpointWallet.walletId:"",r[12]=a[o].collectionTypeName,r[13]=a[o].invoiceNo,r[14]=a[o].reference1,r[15]=a[o].reference2,r[16]=a[o].reference3,n[o+1]=r}this.setState({dataToDownload:n})}},{key:"handleFromDateChange",value:function(e){this.setState({fromDate:e})}},{key:"handleToDateChange",value:function(e){this.setState({toDate:e})}},{key:"getMockData",value:function(){return[{id:1,name:"Mukit",occupation:"SE",address:"Dhaka"}]}},{key:"getColumns",value:function(){var e=[{id:"dateTime",Header:"Date",width:200,accessor:function(e){return e.dateTime?e.dateTime.replace("T"," ").substring(0,19):""}},{id:"amount",Header:"Amount",accessor:"amount",Cell:function(e){var t=e.row;return Object(f.jsx)("div",{align:"right",children:t.amount})}},{Header:"Status",accessor:"decision"},{Header:"Merchant Id",width:150,accessor:"merchantId"},{Header:"Merchant Name",width:250,accessor:"merchantName"},{Header:"Merchant Wallet",width:150,accessor:"merchantWallet.walletId"},{Header:"Payee Name",width:250,accessor:"payeeName"},{Header:"Payee Wallet",width:150,accessor:"payeeWallet.walletId"},{Header:"Cashpoint Id",width:150,accessor:"cashPointId"},{Header:"Cashpoint Name",width:250,accessor:"cpName"},{Header:"Cashpoint Wallet",width:150,accessor:"cashpointWallet.walletId"},{Header:"Collection Type",width:250,accessor:"collectionTypeName"},{Header:"Invoice",width:150,accessor:"invoiceNo"},{Header:"Ref1",width:150,accessor:"reference1"},{Header:"Ref2",width:150,accessor:"reference2"},{Header:"Ref3",width:150,accessor:"reference3"}],t=[{id:"dateTime",Header:"Date",width:200,accessor:function(e){return e.dateTime?e.dateTime.replace("T"," ").substring(0,19):""}},{id:"amount",Header:"Amount",accessor:"amount",Cell:function(e){var t=e.row;return Object(f.jsx)("div",{align:"right",children:t.amount})}},{Header:"Status",accessor:"decision"},{Header:"Payee Name",width:200,accessor:"payeeName"},{Header:"Payee Wallet",width:120,accessor:"payeeWallet.walletId"},{Header:"CP Wallet",width:120,accessor:"cashpointWallet.walletId"},{Header:"Collection Type",width:150,accessor:"collectionTypeName"},{Header:"Invoice",width:150,accessor:"invoiceNo"}];return g.getRoleList()[0].name===y.ROLE_NAME_MERCHANT?t:e}},{key:"handleClick",value:function(e){console.log("Encash: ",e._original)}},{key:"componentDidMount",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/collection/accountId",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({accountId:g.getUsername(),fromDate:new Date,toDate:new Date})}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:t.data}),e.prepareDownload("componentDidMount")}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"getSearchResult",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/collection/accountId",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({accountId:g.getUsername(),fromDate:this.state.fromDate,toDate:this.state.toDate})}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:t.data}),e.prepareDownload("getSearchResult")}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"downloadData",value:function(){try{this.csvLink.link.click()}catch(e){console.log(e)}}},{key:"getComponentDesign",value:function(){var e=this,t=this.getColumns(),a=this.state.data;return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-6",children:Object(f.jsx)("h5",{children:"Collection Management"})})}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)("b",{children:"Date range"})}),Object(f.jsxs)("div",{className:"col-sm-6",children:["From: \xa0",Object(f.jsx)(q.a,{dateFormat:"yyyy-MMM-dd",selected:this.state.fromDate,onChange:this.handleFromDateChange}),"\xa0To: \xa0",Object(f.jsx)(q.a,{dateFormat:"yyyy-MMM-dd",selected:this.state.toDate,onChange:this.handleToDateChange})]}),Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)(O,{text:"Search",onClick:function(){return e.getSearchResult()}})}),Object(f.jsxs)("div",{className:"col-sm-2",children:[Object(f.jsx)(O,{text:"Download",onClick:function(){return e.downloadData()}}),Object(f.jsx)("div",{children:Object(f.jsx)(re.CSVLink,{data:this.state.dataToDownload,filename:"collection.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"})})]})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsx)(Y.a,{data:a,columns:t,defaultPageSize:10,pageSizeOptions:[10,20,40],filterable:!0,defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n].toLowerCase()).startsWith(e.value.toLowerCase())}})}),Object(f.jsx)("div",{className:"col-sm-0"})]})]})}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),ue=Object(i.f)(de),he=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:[],fromDate:new Date,toDate:new Date,dataToDownload:[]},n.handleFromDateChange=n.handleFromDateChange.bind(Object(oe.a)(n)),n.handleToDateChange=n.handleToDateChange.bind(Object(oe.a)(n)),n.getSearchResult=n.getSearchResult.bind(Object(oe.a)(n)),n.downloadData=n.downloadData.bind(Object(oe.a)(n)),n.prepareDownload=n.prepareDownload.bind(Object(oe.a)(n)),n}return Object(d.a)(a,[{key:"prepareDownload",value:function(e){console.log("prepareDownload"),console.log(e);for(var t=this.getColumns(),a=this.state.data,n=[],s=[],c=0;c<t.length-1;c++)s[c]=t[c].Header;n[0]=s,console.log("====currentRecords===="),console.log(a);for(var o=0;o<a.length;o++){console.log("currentRecords[j]"),console.log(a[o]);var r=[];r[0]=a[o].createDateTime.replace("T"," ").substring(0,19),r[1]=a[o].cashpointId,r[2]=a[o].cashpoint?a[o].cashpoint.name:"",r[3]=a[o].wallet?a[o].wallet.walletId:"",r[4]=null==a[o].cashpoint?"":a[o].cashpoint.teritory?a[o].cashpoint.teritory.replace("Territory",""):"",r[5]=a[o].currency,r[6]=a[o].amount,r[7]=a[o].approvalDetails?a[o].approvalDetails.approvalDecision:"",n[o+1]=r}this.setState({dataToDownload:n})}},{key:"handleFromDateChange",value:function(e){this.setState({fromDate:e})}},{key:"handleToDateChange",value:function(e){this.setState({toDate:e})}},{key:"getMockData",value:function(){return[{id:1,name:"Mukit",occupation:"SE",address:"Dhaka"}]}},{key:"getColumns",value:function(){var e=this;return[{Header:"Date",id:"createDateTime",width:180,accessor:function(e){return e.createDateTime?e.createDateTime.replace("T"," ").substring(0,19):""}},{Header:"Cashpoint Id",width:120,accessor:"cashpointId"},{Header:"Name",width:200,accessor:"cashpoint.name"},{Header:"Wallet",width:120,accessor:"wallet.walletId"},{Header:"Teritory",id:"cashpoint",width:150,accessor:function(e){return null==e.cashpoint?"":e.cashpoint.teritory?e.cashpoint.teritory.replace("Territory",""):""}},{Header:"Currency",width:100,accessor:"currency"},{Header:"Amount",width:100,accessor:"amount",Cell:function(e){var t=e.row;return Object(f.jsx)("div",{align:"right",children:t.amount})}},{Header:"Status",width:100,accessor:"approvalDetails.approvalDecision"},{Header:"Action",accessor:"name",width:200,Cell:function(t){var a=t.row;if(""===a._original.approvalDetails.approvalDecision||"pending"===a._original.approvalDetails.approvalDecision||"Pending"===a._original.approvalDetails.approvalDecision||"PENDING"===a._original.approvalDetails.approvalDecision)return Object(f.jsx)("table",{align:"center",children:Object(f.jsx)("tbody",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)(O,{text:" Reject ",onClick:function(t){e.handleClick(a,"Reject")}})}),Object(f.jsx)("td",{children:Object(f.jsx)(O,{text:"Approve",onClick:function(t){e.handleClick(a,"Approve")}})})]})})})}}]}},{key:"handleClick",value:function(e,t){var a={accountUserId:g.getUsername(),requestId:e._original.domainId,decision:t,commentOne:"n",commentTwo:"n"};this.updateApproval(a),console.log("decision: ",t," Lifting: ",e._original)}},{key:"updateApproval",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://apigw-maxis.nagadpay.com/",e.prev=1,e.next=4,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/lifting/decision-update",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({accountUserId:t.accountUserId,requestId:t.requestId,decision:t.decision,commentOne:t.commentOne,commentTwo:t.commentTwo})});case 4:return a=e.sent,e.next=7,a.json();case 7:"Success"===(n=e.sent).result.result&&this.componentDidMount(),console.log(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/lifting/accountId",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({accountId:g.getUsername(),fromDate:this.state.fromDate,toDate:this.state.toDate})}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:t.data}),e.prepareDownload("componentDidMount")}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"downloadData",value:function(){try{this.csvLink.link.click()}catch(e){console.log(e)}}},{key:"getSearchResult",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/lifting/accountId",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({accountId:g.getUsername(),fromDate:this.state.fromDate,toDate:this.state.toDate})}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:t.data}),e.prepareDownload("componentDidMount")}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"getComponentDesign",value:function(){var e=this,t=this.getColumns(),a=this.state.data;return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-6",children:Object(f.jsx)("h5",{children:"Lifting Management"})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)("b",{children:"Date range"})}),Object(f.jsxs)("div",{className:"col-sm-6",children:["From: \xa0",Object(f.jsx)(q.a,{dateFormat:"yyyy-MMM-dd",selected:this.state.fromDate,onChange:this.handleFromDateChange}),"\xa0To: \xa0",Object(f.jsx)(q.a,{dateFormat:"yyyy-MMM-dd",selected:this.state.toDate,onChange:this.handleToDateChange})]}),Object(f.jsx)("div",{className:"col-sm-2",children:Object(f.jsx)(O,{text:"Search",onClick:function(){return e.getSearchResult()}})}),Object(f.jsxs)("div",{className:"col-sm-2",children:[Object(f.jsx)(O,{text:"Download",onClick:function(){return e.downloadData()}}),Object(f.jsx)("div",{children:Object(f.jsx)(re.CSVLink,{data:this.state.dataToDownload,filename:"lifting.csv",className:"hidden",ref:function(t){return e.csvLink=t},target:"_blank"})})]})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"col-lg-12",children:Object(f.jsx)(Y.a,{data:a,columns:t,defaultPageSize:20,pageSizeOptions:[20,30,40],filterable:!0,defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n].toLowerCase()).startsWith(e.value.toLowerCase())}})}),Object(f.jsx)("div",{className:"col-sm-4"})]})]})}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),pe=Object(i.f)(he),me=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:[]},n}return Object(d.a)(a,[{key:"getMockData",value:function(){return[{id:1,name:"Mukit",occupation:"SE",address:"Dhaka"},{id:2,name:"Ratul",occupation:"SE",address:"Dhaka"},{id:3,name:"Emon",occupation:"SE",address:"Dhaka"},{id:4,name:"Fahim",occupation:"SE",address:"Dhaka"}]}},{key:"getColumns",value:function(){var e=this;return[{Header:"Date",id:"generateTime",width:200,accessor:function(e){return e.generateTime?e.generateTime.replace("T"," ").substring(0,19):""}},{Header:"Merchant Id",width:150,accessor:"merchantId"},{Header:"Merchant Name",width:300,accessor:"merchantName"},{Header:"Merchant Wallet",width:150,accessor:"walletAccountId"},{Header:"Amount",width:100,accessor:"encashmentAmount",Cell:function(e){var t=e.row;return Object(f.jsx)("div",{align:"right",children:t.encashmentAmount})}},{Header:"Decision",width:150,accessor:"decision"},{Header:"Action",accessor:"name",width:200,Cell:function(t){var a=t.row;return Object(f.jsx)("table",{align:"center",children:Object(f.jsx)("tbody",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)(O,{text:"Reject",onClick:function(t){e.handleClick(a,"Reject")}})}),Object(f.jsx)("td",{children:Object(f.jsx)(O,{text:"Approve",onClick:function(t){e.handleClick(a,"Approve")}})})]})})})}}]}},{key:"handleClick",value:function(e,t){console.log("row:",e);var a={approverId:g.getUsername(),encashmentId:e._original.domainId,comment:"na",decision:t};console.log("data:",a),this.updateApproval(a),console.log("decision: ",t," Lifting: ",e._original)}},{key:"updateApproval",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://apigw-maxis.nagadpay.com/",e.prev=1,e.next=4,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/encashment/decision-update",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({approverId:t.approverId,encashmentId:t.encashmentId,comment:t.comment,decision:t.decision})});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,this.componentDidMount(),console.log(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/encashment/pending",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({accountId:g.getUsername()})}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:t.data})}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"getComponentDesign",value:function(){var e=this.getColumns(),t=this.state.data;return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-6",children:Object(f.jsx)("h5",{children:"Bank Encashment MyCash"})})}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"row"}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"col-lg-12",children:Object(f.jsx)(Y.a,{data:t,columns:e,defaultPageSize:20,pageSizeOptions:[20,30,40],filterable:!0,defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n].toLowerCase()).startsWith(e.value.toLowerCase())}})}),Object(f.jsx)("div",{className:"col-sm-4"})]})]})}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),je=Object(i.f)(me),be=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:[]},n}return Object(d.a)(a,[{key:"getMockData",value:function(){return[{id:1,name:"Mukit",occupation:"SE",address:"Dhaka"},{id:2,name:"Ratul",occupation:"SE",address:"Dhaka"},{id:3,name:"Emon",occupation:"SE",address:"Dhaka"},{id:4,name:"Fahim",occupation:"SE",address:"Dhaka"}]}},{key:"getColumns",value:function(){return[{Header:"Date",id:"generateTime",width:200,accessor:function(e){return e.generateTime?e.generateTime.replace("T"," ").substring(0,19):""}},{Header:"Merchant Id",width:150,accessor:"merchantId"},{Header:"Merchant Name",width:300,accessor:"merchantName"},{Header:"Merchant Wallet",width:150,accessor:"walletAccountId"},{Header:"Amount",width:100,accessor:"encashmentAmount",Cell:function(e){var t=e.row;return Object(f.jsx)("div",{align:"right",children:t.encashmentAmount})}},{Header:"Decision",width:150,accessor:"decision"}]}},{key:"handleClick",value:function(e,t){var a={approverId:g.getUsername(),encashmentId:e.domainId,comment:"na",decision:t};this.updateApproval(a),console.log("decision: ",t," Lifting: ",e._original)}},{key:"updateApproval",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://apigw-maxis.nagadpay.com/",e.prev=1,e.next=4,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/encashment/decision-update",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({approverId:t.approverId,encashmentId:t.encashmentId,comment:t.comment,decision:t.decision})});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/encashment/accountId",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({accountId:g.getUsername()})}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:t.data})}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"getComponentDesign",value:function(){var e=this.getColumns(),t=this.state.data;return Object(f.jsxs)("div",{className:"home",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-6",children:Object(f.jsx)("h5",{children:"Bank Encashment MyCash History"})})}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"row"}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:"col-sm-12",children:Object(f.jsx)(Y.a,{data:t,columns:e,defaultPageSize:20,pageSizeOptions:[20,30,40],filterable:!0,defaultFilterMethod:function(e,t,a){var n=e.pivotId||e.id;return void 0===t[n]||String(t[n].toLowerCase()).startsWith(e.value.toLowerCase())}})}),Object(f.jsx)("div",{className:"col-sm-4"})]})]})}},{key:"render",value:function(){var e=this.getComponentDesign();return Object(f.jsx)(D,{component:e})}}]),a}(s.a.Component),ve=Object(i.f)(be),ge=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={selectedData:{},data:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/wallet",{method:"GET",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()}}).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(t){try{e.setState({data:[]})}catch(a){console.log(a),e.setState({data:[]})}}))}catch(t){console.log(t)}}},{key:"getComponentDesign",value:function(){var e=this;return Object(f.jsxs)("div",{className:"card-form-body",children:[Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm-6",children:Object(f.jsx)("div",{className:"d-flex justify-content-end",children:Object(f.jsx)("h3",{children:"Wallet Add Form"})})})}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"col-sm-6",children:[Object(f.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(f.jsx)("div",{className:"form-input-label",children:"Choose Wallet"}),Object(f.jsx)("div",{className:"form-dropdown",children:Object(f.jsxs)("select",{className:"form-dropdown-select",value:this.value,onChange:function(t){e.setInputValue("selectedData",t.target.value)},children:[Object(f.jsx)("option",{value:"wallet",children:"Select Wallet Account Number"},"1"),")",this.state.data.map((function(e){return Object(f.jsx)("option",{value:JSON.stringify(e),children:e.walletAccountId},e.domainId)}))]})})]}),Object(f.jsx)("div",{className:"d-flex justify-content-end",children:Object(f.jsx)(O,{text:"Reset",onClick:function(){return e.save()}})})]}),Object(f.jsx)("div",{className:"col-sm-6"})]})]})}},{key:"setInputValue",value:function(e,t){this.setState(Object(v.a)({},e,t))}},{key:"save",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://apigw-maxis.nagadpay.com/",t=JSON.parse(this.state.selectedData),e.prev=2,e.next=5,fetch("http://apigw-maxis.nagadpay.com/collection-service/endpoint/wallet/otp-reset",{method:"POST",headers:{"Content-Type":"application/json",token:"Bearer "+g.getIdToken()},body:JSON.stringify({walletId:t.walletId,transactionAccountId:t.transactionAccountId,walletPin:t.walletPin})});case 5:return a=e.sent,e.next=8,a.json();case 8:e.sent.result.code===y.MW_RESPONSE_SUCCESS_CODE&&this.props.history.push({pathname:"/home"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:console.log(this.state);case 16:case"end":return e.stop()}}),e,this,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.getComponentDesign()}}]),a}(s.a.Component),fe=(a(229),Object(f.jsx)(r.a,{children:Object(f.jsxs)(i.c,{children:[Object(f.jsx)(i.a,{exact:!0,path:"/",component:k}),Object(f.jsx)(i.a,{exact:!0,path:"/home",component:G}),Object(f.jsx)(i.a,{exact:!0,path:"/home/detail",component:K}),Object(f.jsx)(i.a,{exact:!0,path:"/manage-wallet",component:Q}),Object(f.jsx)(i.a,{exact:!0,path:"/add-wallet",component:$}),Object(f.jsx)(i.a,{exact:!0,path:"/reset-wallet-otp",component:te}),Object(f.jsx)(i.a,{exact:!0,path:"/digital-money-acquire",component:ne}),Object(f.jsx)(i.a,{exact:!0,path:"/add-digital-money-acquisition-request",component:ce}),Object(f.jsx)(i.a,{exact:!0,path:"/manage-encashment",component:le}),Object(f.jsx)(i.a,{exact:!0,path:"/manage-encashment-mycash",component:je}),Object(f.jsx)(i.a,{exact:!0,path:"/manage-encashment-mycash-history",component:ve}),Object(f.jsx)(i.a,{exact:!0,path:"/manage-collection",component:ue}),Object(f.jsx)(i.a,{exact:!0,path:"/manage-lifting",component:pe}),Object(f.jsx)(i.a,{exact:!0,path:"/update-password",component:M}),Object(f.jsx)(i.a,{exact:!0,path:"/submit-otp",component:A}),Object(f.jsx)(i.a,{exact:!0,path:"/generate-otp",component:R}),Object(f.jsx)(i.a,{exact:!0,path:"/lab",component:ge})]})}));o.a.render(fe,document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.31c6c7ce.chunk.js.map